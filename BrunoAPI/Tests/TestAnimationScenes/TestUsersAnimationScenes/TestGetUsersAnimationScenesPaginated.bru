meta {
  name: TestGetUsersAnimationScenesPaginated
  type: http
  seq: 6
}

get {
  url: {{local}}:3000/api/v1/animationScene/private?per_page=5&page=1
  body: none
  auth: inherit
}

params:query {
  per_page: 5
  page: 1
}

assert {
  res.status: eq 200
}

tests {
  test("should return success", function () {
    let res_success = res.getBody().success;
    expect(res_success).to.equal(true);
  });
  
  test("should return 1 as previous page", function () {
    let prev_page = res.getBody().data.result.pageData.prevPage;
    expect(prev_page).to.equal(1);
  });
  
  test("should return page limit equal to 5", function () {
    let page_limit = res.getBody().data.result.pageData.limit;
    expect(page_limit).to.equal(5);
  });
}

settings {
  encodeUrl: true
}
